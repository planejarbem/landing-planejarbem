<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Página de Vendas com Vídeo e Botão</title>
  <style>
    body, html {{
      margin: 0;
      padding: 0;
      height: 100%;
      overflow: hidden;
    }}

    #video-container {{
      position: relative;
      width: 100vw;
      height: 100vh;
    }}

    #youtube-video {{
      width: 100%;
      height: 100%;
      border: none;
    }}

    #floating-button {{
      position: absolute;
      bottom: 30px;
      right: 30px;
      background-color: #955425;
      color: white;
      font-size: 16px;
      padding: 12px 24px;
      border: none;
      border-radius: 8px;
      box-shadow: 0 0 15px #955425;
      cursor: pointer;
      display: none;
      z-index: 10;
    }}

    #floating-button:hover {{
      background-color: #7a3a1f;
    }}
  </style>
</head>
<body>

  <div id="video-container">
    <iframe
      id="youtube-video"
      src="https://www.youtube.com/embed/-tbsoblj9Bk?enablejsapi=1"
      frameborder="0"
      allow="autoplay; encrypted-media"
      allowfullscreen
    ></iframe>

    <button id="floating-button" onclick="window.location.href='https://pay.kiwify.com.br/9FIBVCQm'">
      ADQUIRIR E-BOOK AGORA!
    </button>
  </div>

  <script>
    var tag = document.createElement("script");
    tag.src = "https://www.youtube.com/iframe_api";
    var firstScriptTag = document.getElementsByTagName("script")[0];
    firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

    var player;
    var intervaloVerificacao;
    var botaoExibido = false;

    function onYouTubeIframeAPIReady() {{
      player = new YT.Player("youtube-video", {{
        events: {{
          onStateChange: onPlayerStateChange
        }}
      }});
    }}

    function onPlayerStateChange(event) {{
      if (event.data === YT.PlayerState.PLAYING && !botaoExibido) {{
        intervaloVerificacao = setInterval(() => {{
          const tempoAtual = player.getCurrentTime();
          if (tempoAtual >= 180) {{
            document.getElementById("floating-button").style.display = "block";
            botaoExibido = true;
            clearInterval(intervaloVerificacao);
          }}
        }}, 1000);
      }}
    }}
  </script>

</body>
</html>
